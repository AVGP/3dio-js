!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.Base3d=n()}(this,function(){"use strict";function e(){var e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==n?t:3&t|8).toString(16)})}function n(e){return!(!e||"string"!=typeof e)&&g.test(e)}function t(e){v[v.length]=e}function o(e){var n=instance.indexOf(e);-1===n?console.error("Instance with id:"+e.id+" not found in runtime registry."):v.splice(n,1)}function r(){return v}function i(e){for(var n=0,t=v.length;n<t;n++)if(v[n].id===e)return v[n];return null}function u(e){return pluginsByName[e.name]?(console.error("Plugin "+e.name+" has been registered already."),!1):(pluginsByName[e.name]=e,r().forEach(function(n){s(n,e)}),!0)}function s(e,n){}function f(e){x.forEach(function(n){s(e,n)})}function l(e){this.app=e}function a(e){this.app=e}function c(){var n=this;n.id=e(),n.scene=new l(n),n.storage=new a(n),h.registerInstance(n),n.initialized=!0}var d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},p=function(e,n){return n={exports:{}},e(n,n.exports),n.exports}(function(e){!function(n){var t={};t.VERSION="1.3.0";var o,r={},i=function(e,n){return function(){return n.apply(e,arguments)}},u=function(){var e,n,t=arguments,o=t[0];for(n=1;n<t.length;n++)for(e in t[n])e in o||!t[n].hasOwnProperty(e)||(o[e]=t[n][e]);return o},s=function(e,n){return{value:e,name:n}};t.DEBUG=s(1,"DEBUG"),t.INFO=s(2,"INFO"),t.TIME=s(3,"TIME"),t.WARN=s(4,"WARN"),t.ERROR=s(8,"ERROR"),t.OFF=s(99,"OFF");var f=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};f.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},enabledFor:function(e){var n=this.context.filterLevel;return e.value>=n.value},debug:function(){this.invoke(t.DEBUG,arguments)},info:function(){this.invoke(t.INFO,arguments)},warn:function(){this.invoke(t.WARN,arguments)},error:function(){this.invoke(t.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(t.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(t.TIME,[e,"end"])},invoke:function(e,n){o&&this.enabledFor(e)&&o(n,u({level:e},this.context))}};var l=new f({filterLevel:t.OFF});!function(){var e=t;e.enabledFor=i(l,l.enabledFor),e.debug=i(l,l.debug),e.time=i(l,l.time),e.timeEnd=i(l,l.timeEnd),e.info=i(l,l.info),e.warn=i(l,l.warn),e.error=i(l,l.error),e.log=e.info}(),t.setHandler=function(e){o=e},t.setLevel=function(e){l.setLevel(e);for(var n in r)r.hasOwnProperty(n)&&r[n].setLevel(e)},t.get=function(e){return r[e]||(r[e]=new f(u({name:e},l.context)))},t.createDefaultHandler=function(e){(e=e||{}).formatter=e.formatter||function(e,n){n.name&&e.unshift("["+n.name+"]")};var n={},o=function(e,n){Function.prototype.apply.call(e,console,n)};return"undefined"==typeof console?function(){}:function(r,i){r=Array.prototype.slice.call(r);var u,s=console.log;i.level===t.TIME?(u=(i.name?"["+i.name+"] ":"")+r[0],"start"===r[1]?console.time?console.time(u):n[u]=(new Date).getTime():console.timeEnd?console.timeEnd(u):o(s,[u+": "+((new Date).getTime()-n[u])+"ms"])):(i.level===t.WARN&&console.warn?s=console.warn:i.level===t.ERROR&&console.error?s=console.error:i.level===t.INFO&&console.info&&(s=console.info),e.formatter(r,i),o(s,r))}},t.useDefaults=function(e){t.setLevel(e&&e.defaultLevel||t.DEBUG),t.setHandler(t.createDefaultHandler(e))},e.exports?e.exports=t:(t._prevLogger=n.Logger,t.noConflict=function(){return n.Logger=t._prevLogger,t},n.Logger=t)}(d)});void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&function(){Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),t=1;t<arguments.length;t++){var o=arguments[t];if(void 0!==o&&null!==o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r])}return n}}(),p.useDefaults();var g=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,v=[],x=[],h={env:{IS_NODE:!("undefined"==typeof module||!module.exports||"undefined"==typeof process||"[object process]"!==Object.prototype.toString.call(process)||-1===process.title.indexOf("node"))},registerInstance:t,deregisterInstance:o,getInstanceById:i,getInstances:r,registerPlugin:u,initPlugins:f};return l.prototype.find=function(){console.log("Found nothing")},l.prototype.findFirst=function(){console.log("Found nothing")},a.prototype.save=function(){console.log("Found nothing")},a.prototype.load=function(){console.log("Found nothing")},c.initialized=!1,c.destroyed=null,c.prototype.destroy=function(){var e=this;h.deregisterInstance(e),e.destroyed=!0},c.registerPlugin=c.prototype.registerPlugin=h.registerPlugin,c.utils=c.prototype.utils={generateUuid:e,validateUuid:n},c});
//# sourceMappingURL=base3d.min.js.map
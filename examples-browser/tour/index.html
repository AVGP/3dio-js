<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href = "../a-frame/style.css" rel = "stylesheet" type = "text/css"/>

  <!-- boilerplate libs -->
  <script src="https://aframe.io/releases/0.6.0/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-animation-component/dist/aframe-animation-component.min.js"></script>
  <!-- 3dio lib -->
  <script src="../../../build/3dio.js"></script>
  <link href="style.css" rel="stylesheet">
</head>
<body>

<!-- 3D -->
<a-scene>
  <a-box color="red"></a-box>
  <a-box color="green" position="0 0 -5"></a-box>
  <a-box color="blue" position="-5 0 0"></a-box>
  <!-- Camera -->
  <a-entity id="camera" tour="loop:true" camera="userHeight: 1.6" position="0 0 0" rotation="0 0 0">
    <a-entity tour-waypoint="Overview" position="5 5 5" rotation="-45 45 0"></a-entity>
    <a-entity tour-waypoint="Red" position="0 0 4" rotation="0 0 0"></a-entity>
    <a-entity tour-waypoint="Green" position="0 0 -2" rotation="0 0 0"></a-entity>
    <a-entity tour-waypoint="Blue" position="-2 0 0" rotation="0 90 0"></a-entity>
  </a-entity>
</a-scene>

<!-- 2D / UI -->
<div id="buttons">
  <button onclick="window.postMessage('INJECT_AFRAME_INSPECTOR','*');">visual inspector</button>
</div>
<div class="camera-controls">
  <div class="waypoints">
    <button onclick="document.querySelector('[camera]').components['tour'].goTo('Overview')">Overview</button>
    <button onclick="document.querySelector('[camera]').components['tour'].goTo('Red')">Red box</button>
    <button onclick="document.querySelector('[camera]').components['tour'].goTo('Green')">Green box</button>
    <button onclick="document.querySelector('[camera]').components['tour'].goTo('Blue')">Blue box</button>
    <button class="btn-toggle-play playing"
            onclick="this.classList.contains('playing') ? document.querySelector('[camera]').components['tour'].pauseTour() : document.querySelector('[camera]').components['tour'].playTour(), this.classList.toggle('playing')">
    </button>
  </div>
  <div class="camera-mode">
    <div class="btn camera active"
         onclick="document.querySelector('.waypoints').classList.toggle('hide'), this.classList.toggle('active')">
    </div>
    <div class="btn bird"
         id="btn-bird"
         onclick="document.querySelector('[camera]').components['tour'].setCameraMode('bird'), document.querySelector('#btn-person').classList.remove('active'), this.classList.add('active')">
    </div>
    <div class="btn person active"
         id="btn-person"
         onclick="document.querySelector('[camera]').components['tour'].setCameraMode('person'), document.querySelector('#btn-bird').classList.remove('active'), this.classList.add('active')">
    </div>
  </div>
</div>
</body>
</html>

